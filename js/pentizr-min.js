(function(e,c,a,g){var d="pentizr",f={username:"",type:"owned",page:1,classname:"pentizr",social:false,limit:9,template:""};function b(i,h){this.element=i;this.options=e.extend({},f,h);this._defaults=f;this._name=d;this.init()}b.prototype.init=function(){this.retrieve()};b.prototype.retrieve=function(){var h=this;e.ajax({dataType:"jsonp",jsonp:"jsonp",url:"http://codepen-awesomepi.timpietrusky.com/"+this.options.username+"/"+this.options.type+"/"+this.options.page,success:function(i){if(i.content!=null){if(h.options.template==""){h.show(i.content.pens)}else{h.showCustom(i.content.pens)}}}})};b.prototype.show=function(h){var i=this;container=e('<div class="'+this.options.classname+'"></div>');e.each(h,function(m,l){if(m>=i.options.limit){return false}var q=e('<div class="wrappetizr"></div>');var p=e('<div class="subcontainer"></a>');var n=e("<iframe></iframe>");n.attr("frameborder",0);n.attr("scrolling","no");n.attr("allowtransparency",0);n.attr("class","iframe"+m);n.attr("src",this.url.fullgrid);var o=e('<div class="meta"></div>'),j=e("<h2></h2>");if(this.title!=null){j.html(this.title)}j.appendTo(o);meta_codepen=e('<div class="open-codepen"></div>');meta_codepen.append(e('<a href="'+this.url.details+'" target="_blank">Details</a>'));meta_codepen.append(e('<a href="'+this.url.pen+'" target="_blank">Source</a>'));meta_codepen.append(e('<a href="'+this.url.full+'" target="_blank">Fullscreen</a>'));meta_codepen.appendTo(o);if(i.options.social){var k=e('<div class="social"></div>');k.append(this.views+' <span class="views">&#9786;</span>');k.append("&nbsp;&nbsp;");k.append(this.hearts+' <span class="hearts">&#9829;</span>');k.append("&nbsp;&nbsp;");k.append(this.comments+' <span class="comments">&#9829;</span>');k.appendTo(o)}q.append(n);q.append(p);p.append(o);q.appendTo(container);e(i.element).append(container);p.on("click",function(r){if(r.target.localName!="a"){if(q.hasClass("onair")){q.removeClass("onair")}else{e(".wrappetizr").removeClass("onair");q.addClass("onair")}}})})};b.prototype.showCustom=function(h){var i=this;e.each(h,function(l,k){if(l>=i.options.limit){return false}var n=i.options.template,m="",j={title:this.title,description:this.description,views:this.views,hearts:this.hearts,comments:this.comments,urlDetails:this.url.details,urlPen:this.url.pen,urlFull:this.url.full};e.each(j,function(p,o){m=new RegExp("{{"+p+"}}","g");n=n.replace(m,o)});e(i.element).append(n)})};e.fn[d]=function(h){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,h))}})}})(jQuery,window,document);